var ASTORIA=[47.496299,19.059992],NORMAFA=[47.542403,19.042879];var g_arrAddressList=[],g_Route=[],kamu=function(){return true},ShowAddress=kamu,FillAddress=kamu,FillRoute=kamu,HereIam=kamu;var planRoute=function(d,f,b){try{var a=ll2eov(d.from),e=ll2eov(d.to)}catch(c){b(c);return false}$.ajax({type:"GET",url:"http://bkv.utvonalterv.hu/NoTile.ashx?",dataType:"script",data:{Command:"Traffic",sessionID:"1449_2119731_5134837",iCommandID:1640,appID:"bkv",lang:"hu",arrIDs:"0|1",arrX:[a[0],e[0]].join("|"),arrY:[a[1],e[1]].join("|"),arrParsed:"undefined|undefined",strTrafficType:"bkv",iCarOptim:0,iBkvOptim:0,strTime:d.time||"2010/10/24/19:23",iMaxWalkDist:d.maxwalkdistance||500},success:function(g){f(g_Route)},error:function(g,i,h){alert("nem megy a bkv útvonaltervező, vagyvalami "+h)}})};var ll2eov=function(m){var n=m[1],k=m[0];if(n>18.67&&n<19.73&&k>47.07&&k<47.78&&!isNaN(n)&&!isNaN(k)){var i,h,g,p,q,c,b,o,d,j,e,a;i=Math.PI/180,rk1=1.0031100083,g=1.0007197049,p=0.0818205679,q=19.0485718*i,c=6379743,b=0.99993,o=47.1*i,d=k*i,j=n*i,e=(Math.atan(rk1*Math.pow(Math.tan(Math.PI/4+d/2),g)*Math.pow((1-p*Math.sin(d))/(1+p*Math.sin(d)),g*p/2))-Math.PI/4)*2,a=(j-q)*g,eovxC=function(f,l){return(c*b*Math.atan(Math.sin(a)/(Math.tan(e)*Math.sin(o)+Math.cos(a)*Math.cos(o)))+650000)},eovyC=function(f,l){return(c/2*b*Math.log((1+Math.cos(o)*Math.sin(e)-Math.sin(o)*Math.cos(e)*Math.cos(a))/(1-Math.cos(o)*Math.sin(e)+Math.sin(o)*Math.cos(e)*Math.cos(a)))+200000)};n=Math.round(eovxC(d,j));k=Math.round(eovyC(d,j));return[n,k]}else{throw"NemBudapestVagyRosszKoordinatak"}};